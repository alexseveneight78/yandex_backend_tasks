# yandex_backend_tasks

A. Динамическое ценообразование
Ограничение времени	2 секунды
Ограничение памяти	64Mb
Ввод	стандартный ввод или input.txt
Вывод	стандартный вывод или output.txt
В некотором городе есть N водителей и M пассажиров. В этом городе действует система динамического ценообразования: чем больше водителей находятся рядом с пассажиром, тем меньше будет стоить поездка. Положим, что базовая цена поездки для каждого пассажира равна K. Дано число P. Каждый водитель, находящийся на расстоянии l от некоторого пассажира (при l < P) уменьшает стоимость поездки на P - l, при этом цена не может быть меньше 1.

Назовём цену поездки с учётом снижения за счёт водителей, находящихся рядом, динамической ценой.

Найдите пассажира, для которого динамическая цена будет минимальной среди всех пассажиров.

Формат ввода
В первой строке даны числа M, N, P и K.

Во второй строке дано число S. В следующих S строках даны расстояния между водителями и пассажирами - три числа n m r, где n - номер водителя, m - номер пассажира, r - длина пути от водителя с номером n до пассажира с номером m - целые числа. Гарантируется, что 0 ≤ n < N, 0 ≤ m < M, r > 0.

Затем дано число T. В следующих T строках даны расстояния между пассажирами - три числа m1 m2 r, где m1 и m2 - номера пассажиров, а r - длина пути от пассажира с номером m1 до пассажира m2 - целые числа. Гарантируется, что 0 ≤ m1, m2 < M, r > 0.

Гарантируется, что M, N ≤ 2000; P ≤ 100; K ≤ 10000; S,T ≤ 50000

Формат вывода
Следует вывести одно число - минимальную среди всех пассажиров динамическую цену

Пример
Ввод	         Вывод = 6
2 2 5 10
2
0 0 2
1 1 2
1
0 1 2


Примечания
Поясним пример: рассматриваются два пассажира (с номерами 0 и 1) и два водителя (с номерами 0 и 1) . Сущствует путь от водителя 0 к пассажиру 0 длины 2 и от водителя 1 к пассажиру 1 длины 2. Кроме того, существует путь от пассажира 0 к пассажиру 1 длины 2. Таким образом, водитель 0 уменьшает цену для пассажира 0 на 3 (= 5 - 2), а для пассажира 1 - на 1 (= 5 - (2 + 2) ). Водитель 1 уменьшает цену для пассажира 1 на 3, и не уменьшает цену пассажира 0, поскольку не существует пути от водителя 1 к пассажиру 0. Итого, имеем для пассажира 0 цену 7 (= 10 - 3), а для пассажира 1 - цену 6 (= 10 - 3 - 1).

Следует обратить внимание, что если указана длина пути о т некоторой точки А до некоторой точки В, то это не значит, что путь из В в А имеет такую же длину или вообще существует. Если расстояние между какими-либо двумя точками не указано, это значит, что прямого пути между ними нет, но может быть путь, проходящий через промежуточную точку.

B. Калькулятор стоимости поездки
Все языки	Python 3.7.3	Python 2.7
Ограничение времени	3 секунды	65 секунд	65 секунд
Ограничение памяти	64Mb	256Mb	256Mb
Ввод	стандартный ввод или input.txt
Вывод	стандартный вывод или output.txt
Нужно рассчитать стоимости поездок по заданной формуле. Каждая поездка характеризуется K целочисленными параметрами. Формула задается в обратной польской записи.

Допустимые операции:

+ - – сложение и вычитание;
* / – умножение и целочисленное деление;
< = – сравнение;
? – условный оператор. Если первый аргумент истина — возвращает второй аргумент, иначе — третий;
В формуле также используются переменные [a-z] и целые числа от -109 до 109.
Можно считать, что результаты всех операций в формуле не превышают 109 по абсолютному значению. Результат операций сравнения используется только в качестве аргумента условного оператора.

Формат ввода
На первой строке одно число 1 ≤ K ≤ 26 — количество переменных.

На второй строке записана формула расчета цены (не более 3 ⋅ 104 элементов). Все элементы разделены пробелами.

На третьей строке 1 ≤ N ≤ 104 — число тестов.

Следующие N строк содержат по K целых чисел (-109 ≤ v ≤ 109) — значения переменных в алфавитном порядке.

Формат вывода
N строк, содержащих по одному целому числу — результаты подстановки каждого набора значений. Гарантируется, что результат выражения конечен и определен.

Пример 1
Ввод	          Вывод
1                 8
a 2 2 + *         12
2
2
3
8
12

Пример 2
Ввод	                 Вывод
2                        14
a b < 5 14 ?             5
2
10 5
5 10
14
5


C. Оптимизация транспортной системы Марса
Ограничение времени	3 секунды
Ограничение памяти	64Mb
Ввод	стандартный ввод
Вывод	стандартный вывод
Шёл 2058 год. Колонии первых поселенцев уже высадились на Марсе и стали его обживать, а Яндекс.Такси начала развертывание системы шатл-станций.  

Для нормального функционирования шатл-станция нуждается в постоянном питании от энергетической сети. Чтобы запитать станцию нужно либо построить урановый ядерный генератор энергии внутри самой станции, либо проложить кабель до другой (уже запитанной) шатл-станции. Стоимость строительства генератора внутри разных шатл-станций может отличаться. Проведение кабеля между шатл-станциями также варьируется по стоимости и не всегда возможно. Кабельное соединение является двунаправленным.  

Задача состоит в том, чтобы организовать эффективное (с минимальной стоимостью) питание всех шатл-станций.  

На вход программа получает общее число шатл-станций, стоимости строительства генераторов для каждой шатл-станции и описания всех возможных кабелей между шатл-станциями (номера соединяемых станций и стоимость прокладки кабеля).
Формат ввода
Первая строка содержит одно целое неотрицательное число шатл-станций 
N
≤
1
0
0
0
.  

Вторая строка содержит 
N
 чисел, задающих стоимости строительства генератора внутри соответствующей станции.  

Третья строка содержит одно целое неотрицательное число возможных кабелей 
K
≤
1
0
0
0
0
0
между шатл-станциями.  

Последующие 
K
 строк (начиная с четвёртой) содержат описание одного кабеля - три целых неотрицательных числа: номер первой станции, номер второй станции и стоимость проведения.
Формат вывода
Одно целое число - минимальная стоимость питания всех шатл-станций для заднной конфигурации.
Пример 1
Ввод	Вывод
1        77
0
77
Пример 2
Ввод	   Вывод
2             28
11 29
1
1 2 17

Примечания
Станции нумеруются с единицы.  
Числа внутри строки разделяются одним пробелом.  
Корректность входных данных проверять не требуется.

D. Заказы по цепочке
Ограничение времени	1 секунда
Ограничение памяти	64Mb
Ввод	стандартный ввод или input.txt
Вывод	стандартный вывод или output.txt
Водитель выбирает заказы на день. Он может выбирать из 
N
≤
1
0
0
0
 заказов. Для каждого заказа известны время начала 
A
i
 и время окончания 
B
i
, причём 
0
≤
A
i
<
B
i
≤
2
0
0
0
0
. Водитель также знает стоимость каждого заказа 
W
i
, причём 
1
≤
W
i
≤
1
0
5
. Нужно найти последовательность заказов с наибольшей суммарной стоимостью. В каждый момент времени водитель может выполнять только один заказ.
Формат ввода
В первой строчки задано целое положительное число 
N
 — количество заказов. Далее следует 
N
 строк. В 
i
-й строке содержится 3 целых числа, разделённых пробелами: 
A
i
, 
B
i
 и 
W
i
.
Формат вывода
Требуется вывести одно число — наибольший заработок водителя.
Пример 1
Ввод	       Вывод
2               10
0 1 2 
2 3 8

Пример 2
Ввод	          Вывод
3                40
1 3 15
3 7 25
2 6 30

